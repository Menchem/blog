webpackJsonp([7],{"3KQM":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("teIl"),r=o("6X4d"),s={name:"Category",data:function(){return{page:1,allArr:[],listarr:[],loadShow:!0,showMore:!1,categoryHtml:"内容正在加载，请稍后..."}},components:{HeaderBox:i.a,Myfooter:r.a},mounted:function(){var t=this;this.$http({methods:"get",url:"http://admin.zhoumengcheng.cn/showall"}).then(function(e){t.allArr=e.data.content,t.listarr=t.allArr.slice(0,6)}),this.$nextTick(function(){window.addEventListener("scroll",t.getList)})},methods:{getList:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.clientHeight||document.body.clientHeight;document.querySelector(".cate-box").clientHeight+100-o-e<20&&setTimeout(function(){var e=t.allArr.length%(6*t.page),o=[];if(t.showMore)t.categoryHtml="我可是有底线的-_-!";else if(e<6){o=t.allArr.slice(6*t.page,6*t.page+e);for(var i=0;i<o.length;i++)t.listarr.push(o[i]);t.showMore=!0}else{o=t.allArr.slice(6*t.page,6*t.page+6);for(var r=0;r<o.length;r++)t.listarr.push(o[r]);t.page++}},500)}},destroyed:function(){window.removeEventListener("scroll",this.getList)}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category"},[o("HeaderBox"),t._v(" "),o("div",{staticClass:"cate-box"},[o("transition-group",{attrs:{tag:"div",name:"myZoom"}},t._l(t.listarr,function(e,i){return o("div",{key:"list"+i,staticClass:"catelist"},[o("div",{staticClass:"title"},[o("router-link",{attrs:{to:"/show/"+e.id}},[t._v(t._s(e.title))])],1),t._v(" "),o("div",{staticClass:"time"},[t._v(t._s(e.create_time))]),t._v(" "),o("div",{staticClass:"description"},[t._v(t._s(e.description)+"...")]),t._v(" "),o("div",{staticClass:"link"},[o("router-link",{attrs:{to:"/show/"+e.id}},[t._v("查看")])],1)])}),0)],1),t._v(" "),t.loadShow?o("div",{staticClass:"content-loading",domProps:{innerHTML:t._s(t.categoryHtml)}}):t._e(),t._v(" "),o("Myfooter")],1)},staticRenderFns:[]};var a=o("VU/8")(s,n,!1,function(t){o("Jz8b")},null,null);e.default=a.exports},Jz8b:function(t,e){}});